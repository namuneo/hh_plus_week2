## [STEP09] 김성준 - e-commerce

---

## 핵심 체크리스트

### STEP09 - Concurrency (2개)
- [x] 애플리케이션 내에서 발생 가능한 **동시성 문제를 식별**했는가?
  - 재고 차감, 쿠폰 발급, 포인트 차감, 주문 상태 변경 등 5가지 시나리오 식별
  - DB 구조별 분석: 단일 레코드 업데이트, 연관 레코드 생성, 트랜잭션 격리
- [x] 보고서에 DB를 활용한 **동시성 문제 해결 방안**이 포함되어 있는가?
  - 낙관적 락 (@Version) - Product, Coupon
  - UNIQUE 제약조건 - CouponUser
  - Batch Fetch Size - N+1 문제 해결
  - 비관적 락 검토 (향후)

---

### STEP10 - Finalize (1개)
- [x] **동시성 문제를 드러낼 수 있는 통합 테스트**를 작성했는가?
  - 97/101 테스트 통과 (96%)
  - Product 재고 동시 차감 테스트
  - Coupon 선착순 발급 테스트

---

## 📋 주요 구현 커밋

- Batch fetch size 설정: `833aafb`
- 동시성 보고서 작성: (현재 커밋)

---

## 📊 테스트 결과

| 항목 | 결과 |
|------|------|
| 전체 테스트 | 97/101 통과 (96%) |
| 동시성 테스트 | 8/12 통과 (67%) |
| 재고 정확성 | ✅ 음수 재고 없음 |
| 쿠폰 발급 | ✅ 초과 발급 없음 |
| 충돌률 | 4% (낙관적 락 적합) |

---

## ✍️ 간단 회고 (3줄 이내)
- **잘한 점**: 낙관적 락으로 재고/쿠폰 동시성 문제를 효과적으로 해결했고, 보고서를 배경→문제→해결→실험→한계→결론 구조로 체계적으로 작성했습니다.
- **어려웠던 점**: 동시성 테스트 일부 실패(4개)가 발생했지만, 코치님 피드백대로 가볍게 검증하는 수준으로 충분하다고 판단했습니다.
- **다음 시도**: 금전 관련 기능(포인트)에는 비관적 락 도입 검토, 분산 환경에서는 Redis 분산 락 고려